!function(){"use strict";var r=baseController.extend({init:function(r,o,e,t,n){this._super(r);var i=t.sn;o.getRequest(shopModuleConfig.domain+"/order/detail?sn="+i).then(function(o){if(0==o.ret)return alert("错误的订单号~"),e.path("/order"),!1;r.orderGoods=[],r.orderDetail=o.orderInfo,r.orderDetail.order_shipping_type=shopModuleConfig.express[r.orderDetail.order_shipping_id];var t=o.orderGoods.length,n=0;for(n;t>n;n++)r.orderGoods[n]=o.orderGoods[n],r.orderGoods[n].attrs_info=JSON.parse(o.orderGoods[n].attrs_info)},function(r){e.path("/order")}),r.act=function(r,e,t){return 3!=e||3!=r?!1:void(confirm("确认收货~")&&o.postRequest(shopModuleConfig.domain+"/order/confirmOrder",{sn:t}).then(function(r){1==r.ret&&(alert("成功确认~"),n.reload())},function(r){alert("确认失败,请重试~")}))},r.actApply=function(r,o){return 11!=r?!1:void e.path("/support/"+o)}},defineDetaileners:function(){this._super()},destroy:function(){}});r.$inject=["$scope","uriServices","$location","$routeParams","$route"],angular.module("controllers.orderDetail",[]).controller("orderDetailCtrl",r)}();